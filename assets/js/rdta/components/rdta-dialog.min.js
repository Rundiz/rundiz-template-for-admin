/*!
 Rundiz template for admin v 2.4.6 
License: MIT
*/
class RDTADialog{#e="rd-modal-open";#s='[data-dismiss="dialog"]';#t="rd-dialog";#o="show";#a=!1;#l="rd-dialog-modal";#i(e,s){if("object"!=typeof e&&null!=e)throw new Error("The argument dialogElement must be an object.");if("object"!=typeof s&&null!=s)throw new Error("The argument modalElement must be an object.");if(!e?.classList?.contains(this.#o)&&!s?.classList?.contains(this.#o))return!1;document.body.classList.remove(this.#e),e?.classList?.remove(this.#o),s?.classList?.remove(this.#o),1===e?.nodeType&&"dialog"===e?.tagName&&e.close(),"undefined"!=typeof rdta_debug&&!0===rdta_debug&&console.debug("[rdta][dialog] dialog closed");const t=new Event("rdta.dialog.closed");s?s.dispatchEvent(t):e&&e.dispatchEvent(t)}#d(){document.addEventListener("click",(e=>{let s=e.target;if(s.closest(this.#s)&&(s=s.closest(this.#s)),"dialog"===s.dataset.dismiss){e.preventDefault(),"undefined"!=typeof rdta_debug&&!0===rdta_debug&&console.debug("[rdta][dialog] clicked button close");const t=s.closest("."+this.#t),o=s.closest("."+this.#l);return this.#i(t,o)}}))}#n(){document.addEventListener("click",(e=>{const s=e.target;if(!s.classList?.contains(this.#l))return;const t=s.closest("."+this.#l);t&&"true"!==t?.dataset?.clickOutsideNotClose&&(e.preventDefault(),"undefined"!=typeof rdta_debug&&!0===rdta_debug&&console.debug("[rdta][dialog] clicked outside close"),this.#i(null,t))}))}#c(){document.body.addEventListener("keyup",(e=>{if("Escape"===e.key&&!1===e.altKey&&!1===e.ctrlKey&&!1===e.metaKey&&!1===e.shiftKey&&!document.querySelector(".rd-alertdialog-modal.show")){let s=e.target;const t=s.closest("."+this.#t),o=s.closest("."+this.#l);if(!t&&!o)return!1;if(t?.classList?.contains(this.#o)&&"true"!==t?.dataset?.escKeyNotClose)return this.#i(t,o);if(o?.classList?.contains(this.#o)&&"true"!==o?.querySelector("."+this.#t)?.dataset?.escKeyNotClose)return this.#i(t,o)}}))}activateDialog(e,s={}){if("string"!=typeof e)throw new Error("The argument selector must be string.");if("object"!=typeof s)throw new Error("The argument options must be an object.");let t={focusDialog:!0};s=Object.assign(t,s),t=void 0;let o=this,a=document.querySelector(e);if(!a?.classList?.contains(o.#o)){let e="basic",t=null;a.closest("dialog")?(e="dialog",t=a.closest("dialog")):a.querySelector("dialog")&&(e="dialog",t=a.querySelector("dialog"));let l=!1;if(a.classList.contains(o.#l)&&(l=!0,document.body.classList.add(o.#e)),a.classList.add(o.#o),"basic"===e)a.tabIndex="-1",!0===s.focusDialog&&setTimeout((function(){a.focus()}),301);else if(t.show(),!0===s.focusDialog){const e=t.querySelector(o.#s);e&&(e.autofocus=!0,setTimeout((function(){e.focus()}),301))}"undefined"!=typeof rdta_debug&&!0===rdta_debug&&console.debug("[rdta][dialog] dialog activated (opened)"),setTimeout((function(){let e=new Event("rdta.dialog.opened");a.dispatchEvent(e)}),301)}!0!==this.#a&&(this.#d(),this.#c(),this.#n(),this.#a=!0)}close(e){if("string"!=typeof e)throw new Error("The argument selector must be string.");let s,t,o=document.querySelector(e);return!!o&&(o.classList.contains(this.#t)&&(s=o),o.classList.contains(this.#l)?(t=o,s=t.querySelector("."+this.#t)):o.closest("."+this.#l)&&(t=o.closest("."+this.#l)),this.#i(s,t))}static init(){let e=new this;document.addEventListener("click",(function(s){if("dialog"===s.currentTarget?.activeElement?.dataset?.toggle){s.stopPropagation(),"undefined"!=typeof rdta_debug&&!0===rdta_debug&&console.debug("[rdta][dialog] clicked to open");let t=s.currentTarget.activeElement.dataset.target;t&&e.activateDialog(t)}}))}}
//# sourceMappingURL=rdta-dialog.min.js.map