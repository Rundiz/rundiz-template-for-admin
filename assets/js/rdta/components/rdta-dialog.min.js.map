{"version":3,"sources":["components/rdta-dialog.js"],"names":["RDTADialog","[object Object]","selector","thisClass","this","document","querySelector","classList","contains","body","add","listenOnCloseButton","listenOnClickOutsideClose","addEventListener","event","currentTarget","activeElement","dataset","toggle","stopPropagation","targetDialog","target","activateDialog","listenOnEscapeKeyPressClose","clickOutsideNotClose","handler","click","removeEventListener","parentNode","matches","closest","remove","key","altKey","ctrlKey","metaKey","shiftKey","escKeyNotClose","focus"],"mappings":";;AAKA,MAAAA,WASAC,eAAAC,GACA,IAAAC,EAAAC,KAEAC,SAAAC,cAAAJ,GAAAK,UAAAC,SAAA,UACAH,SAAAC,cAAAJ,GAAAK,UAAAC,SAAA,oBACAH,SAAAI,KAAAF,UAAAG,IAAA,iBAEAL,SAAAC,cAAAJ,GAAAK,UAAAG,IAAA,QACAP,EAAAQ,oBAAAT,GACAC,EAAAS,0BAAAV,IAQAD,cACA,IAAAE,EAAA,IAAAC,KAEAC,SAAAQ,iBAAA,QAAA,SAAAC,GACA,GAAA,WAAAA,EAAAC,cAAAC,cAAAC,QAAAC,OAAA,CACAJ,EAAAK,kBACA,IAAAC,EAAAN,EAAAC,cAAAC,cAAAC,QAAAI,OACAD,GACAjB,EAAAmB,eAAAF,MAKAjB,EAAAoB,8BAUAtB,0BAAAmB,GAGAf,SAAAC,cAAAc,GAAAH,QAAAO,sBACA,SAAAnB,SAAAC,cAAAc,GAAAH,QAAAO,uBAEAnB,SAAAC,cAAAc,GAAAb,UAAAC,SAAA,oBAGAH,SAAAC,cAAAc,GAAAP,iBAAA,QAAA,SAAAY,EAAAX,GACAA,EAAAO,OAAAf,cAAA,4BACAQ,EAAAO,OAAAf,cAAA,2BAAAoB,QAEArB,SAAAC,cAAAc,GAAAO,oBAAA,QAAAF,KAWAxB,oBAAAmB,GAEAf,SAAAC,cAAAc,GAAAP,iBAAA,QAAA,SAAAY,EAAAX,GACA,IAAA,IAAAO,EAAAP,EAAAO,OAAAA,GAAAA,GAAAjB,KAAAiB,EAAAA,EAAAO,WAEAP,EAAAQ,QAAA,4BACAR,EAAAS,QAAA,WACAzB,SAAAI,KAAAF,UAAAwB,OAAA,iBACAV,EAAAS,QAAA,SAAAvB,UAAAwB,OAAA,QACA1B,SAAAC,cAAAc,GAAAO,oBAAA,QAAAF,MAaAxB,8BACAI,SAAAQ,iBAAA,QAAA,SAAAC,GAEA,WAAAA,EAAAkB,MACA,IAAAlB,EAAAmB,SACA,IAAAnB,EAAAoB,UACA,IAAApB,EAAAqB,UACA,IAAArB,EAAAsB,WAGA/B,SAAAC,cAAA,oBACA,SAAAD,SAAAC,cAAA,mBAAAW,QAAAoB,iBAEAhC,SAAAC,cAAA,2CAAAgC,QACAjC,SAAAC,cAAA,2CAAAoB,SAEArB,SAAAC,cAAA,0BACA,SAAAD,SAAAC,cAAA,oCAAAW,QAAAoB,iBACAhC,SAAAC,cAAA,iDAAAgC,QACAjC,SAAAC,cAAA,iDAAAoB","file":"rdta-dialog.min.js","sourcesContent":["/*! Rundiz template for admin v 2.0.6 \nLicense: MIT*//**\n * RDTA dialog\n */\n\n\nclass RDTADialog {\n\n\n    /**\n     * Activate (open) the dialog.\n     * \n     * @param {string} selector\n     * @returns {undefined}\n     */\n    activateDialog(selector) {\n        let thisClass = this;\n\n        if (!document.querySelector(selector).classList.contains('show')) {\n            if (document.querySelector(selector).classList.contains('rd-dialog-modal')) {\n                document.body.classList.add('rd-modal-open');\n            }\n            document.querySelector(selector).classList.add('show');\n            thisClass.listenOnCloseButton(selector);\n            thisClass.listenOnClickOutsideClose(selector);\n        }\n    }// activateDialog\n\n\n    /**\n     * Initialize the dialog by listening on button clicked.\n     */\n    static init() {\n        let thisClass = new this();\n\n        document.addEventListener('click', function(event) {\n            if (event.currentTarget.activeElement.dataset.toggle === 'dialog') {\n                event.stopPropagation();\n                let targetDialog = event.currentTarget.activeElement.dataset.target;\n                if (targetDialog) {\n                    thisClass.activateDialog(targetDialog);\n                }\n            }\n        });\n\n        thisClass.listenOnEscapeKeyPressClose();\n    }// init\n\n\n\n    /**\n     * Listen on click outside dialog and then close if no attribute specified.\n     * \n     * @private\n     */\n    listenOnClickOutsideClose(targetDialog) {\n        if (\n            (\n                !document.querySelector(targetDialog).dataset.clickOutsideNotClose ||\n                document.querySelector(targetDialog).dataset.clickOutsideNotClose !== 'true'\n            ) &&\n            document.querySelector(targetDialog).classList.contains('rd-dialog-modal')\n        ) {\n            // if no html attribute `data-click-outside-not-close=\"true\"` and there is modal element then click outside to close the dialog.\n            document.querySelector(targetDialog).addEventListener('click', function handler(event) {\n                if (event.target.querySelector('[data-dismiss=\"dialog\"]')) {\n                    event.target.querySelector('[data-dismiss=\"dialog\"]').click();\n                }\n                document.querySelector(targetDialog).removeEventListener('click', handler);\n            });\n        }\n    }// listenOnClickOutsideClose\n\n\n    /**\n     * Listen on close button (`data-dismiss=\"dialog\"`) and close the dialog that contain `show` class.\n     * \n     * @private\n     */\n    listenOnCloseButton(targetDialog) {\n        let thisClass = this;\n        document.querySelector(targetDialog).addEventListener('click', function handler(event) {\n            for (let target= event.target; target && target != this; target = target.parentNode) {\n                // loop parent nodes from the target to the delegation node\n                if (target.matches('[data-dismiss=\"dialog\"]')) {\n                    if (target.closest('.show')) {\n                        document.body.classList.remove('rd-modal-open');\n                        target.closest('.show').classList.remove('show');\n                        document.querySelector(targetDialog).removeEventListener('click', handler);\n                    }\n                }\n            }\n        });\n    }// listenOnCloseButton\n\n\n    /**\n     * Listen on esc key press then close if no attribute specified.\n     * \n     * @private\n     */\n    listenOnEscapeKeyPressClose() {\n        document.addEventListener('keyup', function handler(event) {\n            if (\n                event.key === 'Escape' &&\n                event.altKey === false &&\n                event.ctrlKey === false &&\n                event.metaKey === false &&\n                event.shiftKey === false\n            ) {\n                if (\n                    document.querySelector('.rd-dialog.show') &&\n                    document.querySelector('.rd-dialog.show').dataset.escKeyNotClose !== 'true'\n                ) {\n                    document.querySelector('.rd-dialog.show [data-dismiss=\"dialog\"]').focus();\n                    document.querySelector('.rd-dialog.show [data-dismiss=\"dialog\"]').click();\n                }\n                if (document.querySelector('.rd-dialog-modal.show')) {\n                    if (document.querySelector('.rd-dialog-modal.show .rd-dialog').dataset.escKeyNotClose !== 'true') {\n                        document.querySelector('.rd-dialog-modal.show [data-dismiss=\"dialog\"]').focus();\n                        document.querySelector('.rd-dialog-modal.show [data-dismiss=\"dialog\"]').click();\n                    }\n                }\n            }\n        });\n    }// listenOnEscapeKeyPressClose\n\n\n}"]}