/*
* ----------------------------------------------------------------------------------------------
* rundiz template for admin - layout that is using display:grid; for styling grid, columns
* ----------------------------------------------------------------------------------------------
*/


@import '_variables';


@import '_layout-common';


.rd-page-wrapper {
    display: grid;
    grid-template-columns: 0px auto;
    grid-template-rows: auto;
    height: auto;
    min-height: 100%;
    position: relative;

    // .rd-page-wrapper > footer
    > footer {
        background-color: transparent;
        color: #888;
        display: none;// when visible in the larger screen size, use flex
        font-size: 0.688em;
        min-height: 1.250rem;
        padding: 0.313rem $block-element-margin-sides;

        // .rd-page-wrapper > footer a
        a {
            color: inherit;
        }

        // .rd-page-wrapper > footer .rd-page-footer-left
        .rd-page-footer-left {
            margin-left: 0;
            margin-right: 0;
            padding-right: $block-element-margin-sides;
        }

        // .rd-page-wrapper > footer .rd-page-footer-right
        .rd-page-footer-right {
            margin-left: auto;
            margin-right: 0;
            padding-left: $block-element-margin-sides;
        }
    }

    // .rd-page-wrapper > main
    > main {
        align-self: start;
        min-width: 0;/* fix table push this element over screen width ( https://stackoverflow.com/questions/43311943/prevent-grid-items-from-stretching-in-css-grid-layout ) */
    }

    // .rd-page-wrapper .rd-sidebar
    .rd-sidebar {
        background-color: rgb(46, 46, 46);
        color: #ccc;
        display: none;
        height: auto;
        margin: 0;
        min-height: 100%;
        padding: 0;
        position: absolute;
        width: $sidebar-expanded-width;

        // .rd-page-wrapper .rd-sidebar a
        a {
            // .rd-page-wrapper .rd-sidebar a > .fa
            color: inherit;
        }

        // .rd-page-wrapper .rd-sidebar ul.rd-sidebar-item-list
        ul.rd-sidebar-item-list {
            > li {
                // .rd-page-wrapper .rd-sidebar ul.rd-sidebar-item-list > li > a
                >a {
                    display: block;
                    padding: 0.625rem 0.625rem 0.625rem 0.625rem;

                    // .rd-page-wrapper .rd-sidebar ul.rd-sidebar-item-list > li > a > span.rd-sidebar-menu-text
                    > span.rd-sidebar-menu-text {
                        overflow-wrap: break-word;
                        word-break: break-all;
                        word-wrap: break-word;
                    }

                    // .rd-page-wrapper .rd-sidebar ul.rd-sidebar-item-list > li > a > .fa
                    > .fa {
                        font-size: 1.250rem;
                        transition: font-size $sidebar-transition-seconds;
                    }
                }
            }
        }

        // .rd-page-wrapper .rd-sidebar ul
        ul {
            list-style: none;
            margin: 0;
            li {
                list-style: none;
            }
        }
    }

    // .rd-page-wrapper.mini-screen-sidebar-visible
    &.mini-screen-sidebar-visible {
        overflow-x: hidden;
        // .rd-page-wrapper.mini-screen-sidebar-visible > footer,
        // .rd-page-wrapper.mini-screen-sidebar-visible > main
        > footer,
        > main {
            transform: translateX($sidebar-expanded-width);
        }
        // .rd-page-wrapper.mini-screen-sidebar-visible .rd-sidebar
        .rd-sidebar {
            display: block;
        }
        @media (min-width: $minimum-sidebar-breakpoint) {
            // this is in on tapped sidebar menu toggler and resize to medium screen size.
            // so, all the values for small screen should be reset.
            overflow-x: visible;
            // .rd-page-wrapper.mini-screen-sidebar-visible > main
            > main {
                transform: none;
            }
            // .rd-page-wrapper.mini-screen-sidebar-visible .rd-sidebar
            .rd-sidebar {
                background-color: transparent;
                min-height: 0;
                position: static;
            }
        }
    }

    // .rd-page-wrapper in @media query
    @media (min-width: $minimum-sidebar-breakpoint) {
        grid-template-columns: $sidebar-expanded-width auto;
        grid-template-rows: auto 1.656rem;

        // .rd-page-wrapper > footer
        > footer {
            display: flex;
            grid-column-start: 2;
            grid-row-end: 3;
            grid-row-start: 2;
        }

        // .rd-page-wrapper > main
        > main {
            grid-column-start: 2;
            grid-row-end: 2;
            grid-row-start: 1;
        }

        // .rd-page-wrapper .rd-sidebar
        .rd-sidebar {
            align-self: self-start;
            background-color: transparent;
            display: block;
            grid-column-end: 2;
            grid-column-start: 1;
            grid-row-end: 3;
            grid-row-start: 1;
            position: relative;
            transition: width $sidebar-transition-seconds;
            width: $sidebar-expanded-width;
        }
        // .rd-page-wrapper.is-collapsed
        &.is-collapsed {
            grid-template-columns: $sidebar-collapsed-width auto;

            // .rd-page-wrapper.is-collapsed .rd-sidebar
            .rd-sidebar {
                width: $sidebar-collapsed-width;
                // .rd-page-wrapper.is-collapsed .rd-sidebar ul.rd-sidebar-item-list
                ul.rd-sidebar-item-list {
                    // .rd-page-wrapper.is-collapsed .rd-sidebar ul.rd-sidebar-item-list > li
                    > li {
                        // .rd-page-wrapper.is-collapsed .rd-sidebar ul.rd-sidebar-item-list > li > a
                        > a {
                            // .rd-page-wrapper.is-collapsed .rd-sidebar ul.rd-sidebar-item-list > li > a > span.rd-sidebar-menu-text
                            > span.rd-sidebar-menu-text {
                                display: none;
                            }

                            // .rd-page-wrapper.is-collapsed .rd-sidebar ul.rd-sidebar-item-list > li > a > .fa
                            > .fa {
                                font-size: 1.875rem;
                            }
                        }
                    }
                }
            }
        }

        // .rd-page-wrapper .rd-sidebar-inner
        .rd-sidebar-inner {
            z-index: ($z-index-sidebar + 1);// fix sticky menu cause the menu is under everything that contain `position: relative;`.
        }
    }
}


@import '_layout-common-sidebar-expand-collapse-controls';